import{cp as ie,cq as u,cZ as S,cr as K,cu as n,cU as ve,cx as r,cF as k,cA as e,cz as l,cB as o,cJ as m,cK as F,cv as Q,dP as be,cy as I,cC as z,cD as Z,cH as ne,eZ as he,cV as fe,e_ as $e,cN as Y,e6 as A,dj as ye,cR as re,ds as we,cE as j,e$ as ke,cY as ce,d1 as Me,ct as ge,dD as Ve,f0 as Ce,c_ as Fe,f1 as Te,f2 as Le,f3 as Pe,f4 as Ie}from"./index-07dfdb25.js";const _e="/ui/assets/icon_file-folder_colorful-a9bb52b8.svg",Ee={class:"active-breadcrumb"},Re={class:"flex align-center",style:{display:"inline-flex"}},De={class:"mr-4"},Ue={class:"mb-4"},xe={class:"flex align-center",style:{display:"inline-flex"}},Ae={class:"mr-4"},Se={class:"danger ml-4"},Be={class:"flex align-center",style:{display:"inline-flex"}},qe={class:"flex-between mr-4"},Ne={class:"dialog-footer"},Oe=ie({__name:"EditModel",emits:["change","submit"],setup(x,{expose:P,emit:w}){const V=u(),h=u(),v=w,_=u(!1),C=u(!1),E=u(!1),B=u(!1),q=u([]),R=u(),N=u([]),p=u([]),M=u(!1),$=u({name:{required:!0,trigger:"blur",message:S("views.template.templateForm.form.templateName.requiredMessage")},model_type:{required:!0,trigger:"change",message:S("views.template.templateForm.form.model_type.requiredMessage")},model_name:{required:!0,trigger:"change",message:S("views.template.templateForm.form.base_model.requiredMessage")}}),f=u({name:"",model_type:"",model_name:"",permission_type:"PRIVATE"}),T=u({}),L=K({get:()=>({...T.value,...f.value}),set:a=>{T.value=a}}),s=a=>{V.value&&A.getModelCreateForm(V.value.provider,L.value.model_type,a).then(t=>{var y;p.value=t.data,R.value&&((y=h.value)==null||y.render(p.value,R.value.credential))})},b=(a,t)=>{t&&(f.value.model_name=""),V.value&&A.listBaseModel(V.value.provider,a,B).then(y=>{N.value=y.data})},O=(a,t)=>{R.value=t,A.getModelById(t.id,C).then(y=>{R.value=y.data,A.listModelType(t.provider,E).then(D=>{q.value=D.data,b(t.model_type)}),V.value=a,f.value={name:t.name,permission_type:t.permission_type,model_type:t.model_type,model_name:t.model_name},L.value=t.credential,s(t.model_name)}),M.value=!0},i=()=>{var a,t;f.value={name:"",model_type:"",model_name:"",permission_type:""},(t=(a=h.value)==null?void 0:a.ruleFormRef)==null||t.resetFields(),T.value={},p.value=[],N.value=[],M.value=!1},d=()=>{var a;(a=h.value)==null||a.validate().then(()=>{R.value&&A.updateModel(R.value.id,{...f.value,credential:T.value},_).then(t=>{ye(S("views.template.tip.updateSuccessMessage")),i(),v("submit")})})};return P({open:O,close:i}),(a,t)=>{const y=n("el-breadcrumb-item"),D=n("el-breadcrumb"),G=n("AppIcon"),U=n("el-tooltip"),H=n("el-input"),W=n("el-form-item"),X=n("el-text"),ee=n("el-radio"),se=n("el-card"),me=n("el-col"),le=n("el-row"),de=n("el-radio-group"),te=n("el-option"),c=n("el-select"),J=n("el-button"),pe=n("el-dialog"),oe=ve("loading");return r(),k(pe,{modelValue:M.value,"onUpdate:modelValue":t[7]||(t[7]=g=>M.value=g),width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":!0,"before-close":i},{header:e(({close:g,titleId:ae,titleClass:Dl})=>[l(D,{separator:">"},{default:e(()=>[l(y,null,{default:e(()=>{var ue;return[o("span",Ee,m(`${a.$t("common.edit")} ${(ue=V.value)==null?void 0:ue.name}`),1)]}),_:1})]),_:1})]),footer:e(()=>[o("span",Ne,[l(J,{onClick:i},{default:e(()=>[F(m(a.$t("common.cancel")),1)]),_:1}),l(J,{type:"primary",onClick:d,loading:_.value},{default:e(()=>[F(m(a.$t("common.modify")),1)]),_:1},8,["loading"])])]),default:e(()=>[Q((r(),k(be,{modelValue:L.value,"onUpdate:modelValue":t[6]||(t[6]=g=>L.value=g),render_data:p.value,model:L.value,ref_key:"dynamicsFormRef",ref:h,"label-position":"top","require-asterisk-position":"right"},{default:e(()=>[l(W,{prop:"name",rules:$.value.name},{label:e(()=>[o("div",Re,[o("div",De,[o("span",null,m(a.$t("views.template.templateForm.form.templateName.label")),1)]),l(U,{effect:"dark",placement:"right"},{content:e(()=>[o("p",null,m(a.$t("views.template.templateForm.form.templateName.tooltip")),1)]),default:e(()=>[l(G,{iconName:"app-warning",class:"app-warning-icon"})]),_:1})])]),default:e(()=>[l(H,{modelValue:f.value.name,"onUpdate:modelValue":t[0]||(t[0]=g=>f.value.name=g),maxlength:"64","show-word-limit":"",placeholder:a.$t("views.template.templateForm.form.templateName.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),l(W,{prop:"permission_type",rules:$.value.permission_type},{label:e(()=>[o("span",null,m(a.$t("views.template.templateForm.form.permissionType.label")),1)]),default:e(()=>[l(de,{modelValue:f.value.permission_type,"onUpdate:modelValue":t[1]||(t[1]=g=>f.value.permission_type=g),class:"card__radio"},{default:e(()=>[l(le,{gutter:16},{default:e(()=>[(r(!0),I(z,null,Z(ne(he),(g,ae)=>(r(),k(me,{key:ae,span:12},{default:e(()=>[l(se,{shadow:"never",class:fe(["mb-16",f.value.permission_type===ae?"active":""])},{default:e(()=>[l(ee,{value:ae,size:"large"},{default:e(()=>[o("p",Ue,m(a.$t(g)),1),l(X,{type:"info"},{default:e(()=>[F(m(a.$t(ne($e)[ae])),1)]),_:2},1024)]),_:2},1032,["value"])]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules"]),l(W,{prop:"model_type",rules:$.value.model_type},{label:e(()=>[o("span",null,m(a.$t("views.template.templateForm.form.model_type.label")),1)]),default:e(()=>[Q((r(),k(c,{disabled:"",onChange:t[2]||(t[2]=g=>b(g,!0)),modelValue:f.value.model_type,"onUpdate:modelValue":t[3]||(t[3]=g=>f.value.model_type=g),class:"w-full m-2",placeholder:a.$t("views.template.templateForm.form.model_type.placeholder")},{default:e(()=>[(r(!0),I(z,null,Z(q.value,g=>(r(),k(te,{key:g.value,label:g.key,value:g.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])),[[oe,E.value]])]),_:1},8,["rules"]),l(W,{prop:"model_name",rules:$.value.model_name},{label:e(()=>[o("div",xe,[o("div",Ae,[o("span",null,m(a.$t("views.template.templateForm.form.base_model.label")),1),o("span",Se,m(a.$t("views.template.templateForm.form.base_model.tooltip")),1)])])]),default:e(()=>[Q((r(),k(c,{onChange:t[4]||(t[4]=g=>s(g)),modelValue:f.value.model_name,"onUpdate:modelValue":t[5]||(t[5]=g=>f.value.model_name=g),class:"w-full m-2",placeholder:a.$t("views.template.templateForm.form.base_model.requiredMessage"),filterable:"","allow-create":"","default-first-option":""},{default:e(()=>[(r(!0),I(z,null,Z(N.value,g=>(r(),k(te,{key:g.name,value:g.name},{default:e(()=>[o("div",Be,[o("div",qe,[o("span",null,m(g.name),1)]),g.desc?(r(),k(U,{key:0,effect:"dark",placement:"right"},{content:e(()=>[o("p",null,m(g.desc),1)]),default:e(()=>[l(G,{iconName:"app-warning",class:"app-warning-icon"})]),_:2},1024)):Y("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","placeholder"])),[[oe,B.value]])]),_:1},8,["rules"])]),_:1},8,["modelValue","render_data","model"])),[[oe,C.value]])]),_:1},8,["modelValue"])}}});const He=re(Oe,[["__scopeId","data-v-bb35fe24"]]);const ze={},We={class:"loading-container loader"};function je(x,P){return r(),I("div",We,P[0]||(P[0]=[o("div",{class:"download-loading"},[o("div"),o("div"),o("div"),o("div"),o("div"),o("div"),o("div"),o("div")],-1)]))}const Ze=re(ze,[["render",je],["__scopeId","data-v-91938551"]]),Ge={key:0},Je={key:1},Ke={class:"mr-4"},Ye={class:"dialog-footer"},Qe=ie({__name:"ParamSettingDialog",props:{model:{}},setup(x,{expose:P}){const w=x,V=u(!1),h=u(!1),v=u([]),_=u(),C=()=>{h.value=!0,V.value=!0,A.getModelParamsForm(w.model.id,V).then(p=>{V.value=!1,v.value=p.data}).catch(()=>{V.value=!1})},E=()=>{h.value=!1};function B(p,M){var $;($=_.value)==null||$.open(p,M)}function q(p){v.value.splice(p,1)}function R(p,M){for(let $=0;$<v.value.length;$++){let f=v.value[$].field,T=v.value[$].label;T&&T.input_type==="TooltipLabel"&&(T=T.label);let L=p.label;if(L&&L.input_type==="TooltipLabel"&&(L=L.label),f===p.field&&M!==$){ce(S("views.template.tip.errorMessage")+p.field);return}if(T===L&&M!==$){ce(S("views.template.tip.errorMessage")+T);return}}M!==null?v.value.splice(M,1,p):v.value.push(p)}function N(){A.updateModelParamsForm(w.model.id,v.value,V).then(p=>{ye(S("views.template.tip.saveSuccessMessage")),E()})}return P({open:C,close:E}),(p,M)=>{const $=n("el-button"),f=n("el-table-column"),T=n("el-tag"),L=n("el-switch"),s=n("EditPen"),b=n("el-icon"),O=n("el-tooltip"),i=n("Delete"),d=n("el-table"),a=n("el-dialog");return r(),I(z,null,[l(a,{title:p.$t("views.template.templateForm.title.paramSetting"),modelValue:h.value,"onUpdate:modelValue":M[2]||(M[2]=t=>h.value=t),width:"800px","close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":!0,"before-close":E},{footer:e(()=>[o("span",Ye,[l($,{onClick:E},{default:e(()=>[F(m(p.$t("common.cancel")),1)]),_:1}),l($,{type:"primary",onClick:N,loading:V.value},{default:e(()=>[F(m(p.$t("common.save")),1)]),_:1},8,["loading"])])]),default:e(()=>[l($,{type:"primary",onClick:M[0]||(M[0]=t=>B()),class:"mb-12"},{default:e(()=>[F(m(p.$t("views.template.templateForm.title.addParam")),1)]),_:1}),l(d,{data:v.value,class:"mb-16"},{default:e(()=>[l(f,{prop:"label",label:p.$t("dynamicsForm.paramForm.name.label"),"show-overflow-tooltip":""},{default:e(({row:t})=>[t.label&&t.label.input_type==="TooltipLabel"?(r(),I("span",Ge,m(t.label.label),1)):(r(),I("span",Je,m(t.label),1))]),_:1},8,["label"]),l(f,{prop:"field",label:p.$t("dynamicsForm.paramForm.field.label"),"show-overflow-tooltip":""},null,8,["label"]),l(f,{label:p.$t("dynamicsForm.paramForm.input_type.label"),width:"110px"},{default:e(({row:t})=>[l(T,{type:"info",class:"info-tag"},{default:e(()=>{var y;return[F(m((y=ne(we).find(D=>D.value===t.input_type))==null?void 0:y.label),1)]}),_:2},1024)]),_:1},8,["label"]),l(f,{prop:"default_value",label:p.$t("dynamicsForm.default.label"),"show-overflow-tooltip":""},null,8,["label"]),l(f,{label:p.$t("common.required")},{default:e(({row:t})=>[o("div",{onClick:M[1]||(M[1]=j(()=>{},["stop"]))},[l(L,{disabled:"",size:"small",modelValue:t.required,"onUpdate:modelValue":y=>t.required=y},null,8,["modelValue","onUpdate:modelValue"])])]),_:1},8,["label"]),l(f,{label:p.$t("common.operation"),align:"left",width:"90"},{default:e(({row:t,$index:y})=>[o("span",Ke,[l(O,{effect:"dark",content:p.$t("common.modify"),placement:"top"},{default:e(()=>[l($,{type:"primary",text:"",onClick:j(D=>B(t,y),["stop"])},{default:e(()=>[l(b,null,{default:e(()=>[l(s)]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),l(O,{effect:"dark",content:p.$t("common.delete"),placement:"top"},{default:e(()=>[l($,{type:"primary",text:"",onClick:D=>q(y)},{default:e(()=>[l(b,null,{default:e(()=>[l(i)]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["title","modelValue"]),l(ke,{ref_key:"AddParamRef",ref:_,onRefresh:R},null,512)],64)}}}),Xe={class:"flex"},el=["innerHTML"],ll={style:{width:"calc(100% - 32px - 4px - var(--app-base-px))"}},tl={class:"flex",style:{height:"22px"}},ol={key:0},al={key:1},nl={class:"mt-4"},sl={class:"mt-16"},dl={class:"flex mt-16"},il={class:"ellipsis ml-16"},rl={class:"flex mt-12"},ml={class:"ellipsis-1 ml-16",style:{height:"20px",width:"70%"}},pl={class:"flex mt-12"},ul={class:"ellipsis-1 ml-16",style:{height:"20px",width:"70%"}},cl={key:0,class:"progress-mask"},_l={class:"percentage-label flex-center"},vl={class:"operation-button"},fl=ie({__name:"ModelCard",props:{model:{},provider_list:{},updateModelById:{type:Function}},emits:["change","update:model"],setup(x,{emit:P}){const w=x,{user:V}=Me(),h=u(),v=K(()=>{var s;return((s=V.userInfo)==null?void 0:s.id)==w.model.user_id}),_=K(()=>h.value?h.value:w.model),C=K(()=>_.value.meta&&_.value.meta.message?_.value.meta.message==="pull model manifest: file does not exist"?`${_.value.model_name} ${S("views.template.tip.noModel")}`:_.value.meta.message:""),E=P,B=u();let q;const R=()=>{Fe(S("views.template.delete.confirmTitle"),`${S("views.template.delete.confirmMessage")}${w.model.name} ?`,{confirmButtonText:S("common.confirm"),confirmButtonClass:"danger"}).then(()=>{A.deleteModel(w.model.id).then(()=>{E("change")})}).catch(()=>{})},N=()=>{A.pauseDownload(w.model.id).then(()=>{h.value=void 0,E("change")})},p=()=>{var b;const s=w.provider_list.find(O=>O.provider===w.model.provider);s&&((b=B.value)==null||b.open(s,w.model))},M=K(()=>{var s;return(s=w.provider_list.find(b=>b.provider===w.model.provider))==null?void 0:s.icon}),$=()=>{q=setInterval(()=>{_.value.status==="DOWNLOAD"?A.getModelMetaById(w.model.id).then(s=>{h.value=s.data}):h.value&&(w.updateModelById(w.model.id,h.value),h.value=void 0)},6e3)},f=()=>{q&&clearInterval(q)},T=u(),L=()=>{var s;(s=T.value)==null||s.open()};return ge(()=>{$()}),Ve(()=>{f()}),(s,b)=>{const O=n("auto-tooltip"),i=n("Warning"),d=n("el-icon"),a=n("el-tooltip"),t=n("el-tag"),y=n("el-text"),D=n("el-button"),G=n("EditPen"),U=n("MoreFilled"),H=n("el-dropdown-item"),W=n("el-dropdown-menu"),X=n("el-dropdown"),ee=n("card-box");return r(),k(ee,{title:s.model.name,shadow:"hover",class:"model-card"},{header:e(()=>[o("div",Xe,[o("span",{style:{height:"32px",width:"32px"},innerHTML:M.value,class:"mr-12"},null,8,el),o("div",ll,[o("div",tl,[l(O,{content:s.model.name,style:{"max-width":"40%"}},{default:e(()=>[F(m(s.model.name),1)]),_:1},8,["content"]),_.value.status==="ERROR"?(r(),I("span",ol,[l(a,{effect:"dark",content:C.value,placement:"top"},{default:e(()=>[l(d,{class:"danger ml-4",size:"18"},{default:e(()=>[l(i)]),_:1})]),_:1},8,["content"])])):Y("",!0),_.value.status==="PAUSE_DOWNLOAD"?(r(),I("span",al,[l(a,{effect:"dark",content:`${s.$t("views.template.templateForm.form.base_model.label")}: ${w.model.model_name} ${s.$t("views.template.tip.downloadError")}`,placement:"top"},{default:e(()=>[l(d,{class:"danger ml-4",size:"18"},{default:e(()=>[l(i)]),_:1})]),_:1},8,["content"])])):Y("",!0)]),o("div",nl,[s.model.permission_type==="PRIVATE"?(r(),k(t,{key:0,type:"danger",class:"danger-tag"},{default:e(()=>[F(m(s.$t("common.private")),1)]),_:1})):(r(),k(t,{key:1,type:"info",class:"info-tag"},{default:e(()=>[F(m(s.$t("common.public")),1)]),_:1}))])])])]),mouseEnter:e(()=>[o("div",vl,[l(a,{effect:"dark",content:s.$t("common.modify"),placement:"top"},{default:e(()=>[l(D,{text:"",disabled:!v.value,onClick:j(p,["stop"])},{default:e(()=>[l(d,null,{default:e(()=>[l(d,null,{default:e(()=>[l(G)]),_:1})]),_:1})]),_:1},8,["disabled"])]),_:1},8,["content"]),l(X,{trigger:"click"},{dropdown:e(()=>[l(W,null,{default:e(()=>[_.value.model_type==="TTS"||_.value.model_type==="LLM"||_.value.model_type==="IMAGE"||_.value.model_type==="TTI"?(r(),k(H,{key:0,disabled:!v.value,icon:"Setting",onClick:j(L,["stop"])},{default:e(()=>[F(m(s.$t("views.template.templateForm.title.paramSetting")),1)]),_:1},8,["disabled"])):Y("",!0),l(H,{icon:"Delete",disabled:!v.value,text:"",onClick:j(R,["stop"])},{default:e(()=>[F(m(s.$t("common.delete")),1)]),_:1},8,["disabled"])]),_:1})]),default:e(()=>[l(D,{text:"",onClick:b[0]||(b[0]=j(()=>{},["stop"]))},{default:e(()=>[l(d,null,{default:e(()=>[l(U)]),_:1})]),_:1})]),_:1})])]),default:e(()=>[o("div",sl,[o("ul",null,[o("li",dl,[l(y,{type:"info"},{default:e(()=>[F(m(s.$t("views.template.templateForm.form.model_type.label")),1)]),_:1}),o("span",il,m(s.$t(ne(Ce)[s.model.model_type])),1)]),o("li",rl,[l(y,{type:"info"},{default:e(()=>[F(m(s.$t("views.template.templateForm.form.base_model.label")),1)]),_:1}),o("span",ml,m(s.model.model_name),1)]),o("li",pl,[l(y,{type:"info"},{default:e(()=>[F(m(s.$t("common.creator")),1)]),_:1}),o("span",ul,m(s.model.username),1)])])]),_.value.status==="DOWNLOAD"?(r(),I("div",cl,[l(Ze,{class:"percentage"}),o("div",_l,[F(m(s.$t("views.template.download.downloading"))+" ",1),b[2]||(b[2]=o("span",{class:"dotting"},null,-1)),l(D,{link:"",type:"primary",class:"ml-16",disabled:!v.value,onClick:j(N,["stop"])},{default:e(()=>[F(m(s.$t("views.template.download.cancelDownload")),1)]),_:1},8,["disabled"])])])):Y("",!0),l(He,{ref_key:"editModelRef",ref:B,onSubmit:b[1]||(b[1]=se=>E("change"))},null,512),l(Qe,{ref_key:"paramSettingRef",ref:T,model:s.model},null,8,["model"])]),_:1},8,["title"])}}});const yl=re(fl,[["__scopeId","data-v-2a33932f"]]);function gl(x,P){const w=x.length%P==0?x.length/P:x.length/P+1,V=[];for(let h=0;h<w;h++){let v=h*P;const _=[];let C=0;for(;C<P&&v<x.length;)_.push(x[v++]),C++;V.push(_)}return V}const bl={class:"template-manage flex main-calc-height"},hl={class:"template-manage__left p-8 border-r"},$l={class:"p-16"},wl={class:"model-list-height-left"},kl={class:"flex align-center"},Ml=["innerHTML"],Vl={class:"flex align-center"},Cl=["innerHTML"],Fl={class:"template-manage__right w-full"},Tl={class:"p-24 pb-0"},Ll={class:"flex-between mt-16 mb-16"},Pl={class:"flex-between complex-search"},Il={class:"model-list-height"},El={class:"p-24 pt-0"},Rl=ie({__name:"index",setup(x){const P={icon:"",provider:"",name:S("views.template.model.allModel")},w=u(),V=u(),h=u(!1),v=u(),_=u("name"),C=u({name:"",create_user:"",permission_type:"",model_type:""}),E=u([]),B=u(!1),q=u([]),R=u([]),N=u([]),p=u([]),M=(i,d)=>{p.value.filter(a=>a.id==i).forEach(a=>{a.status=d.status})},$=K(()=>gl(p.value,2)),f=u(),T=u(),L=i=>{v.value=i,b(),v.value.provider===""&&(w.value.clearCurrent(),V.value.clearCurrent())},s=(i,d)=>{var a,t;console.log(i),console.log(d),i&&i.provider?(a=f.value)==null||a.open(i,d):(t=T.value)==null||t.open()},b=()=>{var d;const i=(d=v.value)!=null&&d.provider?{provider:v.value.provider}:{};A.getModel({...C.value,...i},B).then(a=>{p.value=a.data;const t=p.value.map(y=>({id:y.user_id,username:y.username}));E.value.length===0&&(E.value=Array.from(new Map(t.map(y=>[y.id,y])).values()))})},O=()=>{C.value={name:"",create_user:"",permission_type:"",model_type:""}};return ge(()=>{A.getProvider(h).then(i=>{v.value=P,q.value=[P,...i.data];const d=["model_ollama_provider","model_local_provider","model_xinference_provider","model_vllm_provider"];i.data.forEach(a=>{d.indexOf(a.provider)>-1?N.value.push(a):R.value.push(a)}),R.value.sort((a,t)=>a.provider.localeCompare(t.provider)),N.value.sort((a,t)=>a.provider.localeCompare(t.provider)),b()})}),(i,d)=>{const a=n("common-list"),t=n("el-collapse-item"),y=n("el-collapse"),D=n("el-scrollbar"),G=n("el-button"),U=n("el-option"),H=n("el-select"),W=n("el-input"),X=n("el-col"),ee=n("el-row"),se=n("el-empty"),me=n("LayoutContainer"),le=ve("loading");return r(),k(me,{header:i.$t("views.template.title")},{default:e(()=>{var de,te;return[o("div",bl,[o("div",hl,[o("h4",$l,m(i.$t("views.template.provider")),1),o("div",wl,[o("div",{class:fe(["all-mode flex cursor",(de=v.value)!=null&&de.provider?"":"all-mode-active"]),onClick:d[0]||(d[0]=c=>L(P))},[l(Te,{class:"mr-8",style:{height:"20px",width:"20px"},iconName:"app-all-menu-active"}),o("span",null,m(i.$t("views.template.model.allModel")),1)],2),l(D,null,{default:e(()=>[l(y,{class:"template-collapse"},{default:e(()=>[l(t,{title:i.$t("views.template.model.publicModel"),name:"1"},{title:e(()=>[d[9]||(d[9]=o("img",{src:_e,class:"mr-8"},null,-1)),F(" "+m(i.$t("views.template.model.publicModel")),1)]),default:e(()=>[Q((r(),k(a,{data:R.value,onClick:L,"value-key":"provider","default-active":"",ref_key:"commonList1",ref:w},{default:e(({row:c})=>[o("div",kl,[o("span",{innerHTML:c.icon,alt:"",style:{height:"20px",width:"20px"},class:"mr-8"},null,8,Ml),o("span",null,m(c.name),1)])]),_:1},8,["data"])),[[le,h.value]])]),_:1},8,["title"]),l(t,{title:i.$t("views.template.model.privateModel"),name:"2"},{title:e(()=>[d[10]||(d[10]=o("img",{src:_e,class:"mr-8"},null,-1)),F(" "+m(i.$t("views.template.model.privateModel")),1)]),default:e(()=>[Q((r(),k(a,{data:N.value,onClick:L,"value-key":"provider","default-active":"",ref_key:"commonList2",ref:V},{default:e(({row:c})=>[o("div",Vl,[o("span",{innerHTML:c.icon,alt:"",style:{height:"20px",width:"20px"},class:"mr-8"},null,8,Cl),o("span",null,m(c.name),1)])]),_:1},8,["data"])),[[le,h.value]])]),_:1},8,["title"])]),_:1})]),_:1})])]),Q((r(),I("div",Fl,[o("div",Tl,[o("h4",null,m((te=v.value)==null?void 0:te.name),1),o("div",Ll,[l(G,{type:"primary",onClick:d[1]||(d[1]=c=>s(v.value))},{default:e(()=>[F(m(i.$t("views.template.addModel")),1)]),_:1}),o("div",Pl,[l(H,{class:"complex-search__left",modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c),style:{width:"120px"},onChange:O},{default:e(()=>[l(U,{label:i.$t("common.creator"),value:"create_user"},null,8,["label"]),l(U,{label:i.$t("views.template.templateForm.form.permissionType.label"),value:"permission_type"},null,8,["label"]),l(U,{label:i.$t("views.template.templateForm.form.model_type.label"),value:"model_type"},null,8,["label"]),l(U,{label:i.$t("views.template.templateForm.form.templateName.label"),value:"name"},null,8,["label"])]),_:1},8,["modelValue"]),_.value==="name"?(r(),k(W,{key:0,modelValue:C.value.name,"onUpdate:modelValue":d[3]||(d[3]=c=>C.value.name=c),onChange:b,placeholder:i.$t("views.template.searchBar.placeholder"),"prefix-icon":"Search",style:{width:"220px"},clearable:""},null,8,["modelValue","placeholder"])):_.value==="create_user"?(r(),k(H,{key:1,modelValue:C.value.create_user,"onUpdate:modelValue":d[4]||(d[4]=c=>C.value.create_user=c),onChange:b,clearable:"",style:{width:"220px"}},{default:e(()=>[(r(!0),I(z,null,Z(E.value,c=>(r(),k(U,{key:c.id,value:c.id,label:c.username},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])):_.value==="permission_type"?(r(),k(H,{key:2,modelValue:C.value.permission_type,"onUpdate:modelValue":d[5]||(d[5]=c=>C.value.permission_type=c),clearable:"",onChange:b,style:{width:"220px"}},{default:e(()=>[l(U,{label:i.$t("common.public"),value:"PUBLIC"},null,8,["label"]),l(U,{label:i.$t("common.private"),value:"PRIVATE"},null,8,["label"])]),_:1},8,["modelValue"])):_.value==="model_type"?(r(),k(H,{key:3,modelValue:C.value.model_type,"onUpdate:modelValue":d[6]||(d[6]=c=>C.value.model_type=c),clearable:"",onChange:b,style:{width:"220px"}},{default:e(()=>[(r(!0),I(z,null,Z(ne(Le),c=>(r(),k(U,{key:c.value,label:c.text,value:c.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):Y("",!0)])])]),o("div",Il,[l(D,null,{default:e(()=>[o("div",El,[$.value.length>0?(r(),k(ee,{key:0,gutter:15},{default:e(()=>[(r(!0),I(z,null,Z($.value,(c,J)=>(r(),I(z,{key:J},[(r(!0),I(z,null,Z(c,(pe,oe)=>(r(),k(X,{xs:24,sm:24,md:24,lg:12,xl:12,class:"mb-16",key:oe},{default:e(()=>[l(yl,{onChange:b,updateModelById:M,model:pe,provider_list:q.value},null,8,["model","provider_list"])]),_:2},1024))),128))],64))),128))]),_:1})):(r(),k(se,{key:1,description:i.$t("common.noData")},null,8,["description"]))])]),_:1})])])),[[le,B.value]])]),l(Pe,{ref_key:"createModelRef",ref:f,onSubmit:b,onChange:d[7]||(d[7]=c=>s(c))},null,512),l(Ie,{ref_key:"selectProviderRef",ref:T,onChange:d[8]||(d[8]=(c,J)=>s(c,J))},null,512)]}),_:1},8,["header"])}}});const xl=re(Rl,[["__scopeId","data-v-9aa74a5f"]]);export{xl as default};
